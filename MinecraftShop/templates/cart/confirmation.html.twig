{% extends 'base.html.twig' %}

{% block title %}Order Confirmation{% endblock %}

{% block body %}
<div class="order-confirmation">
    <h1 class="minecraft-title">Order Confirmed!</h1>
    
    <div class="confirmation-message">
        <img src="{{ asset('images/minecraft/diamond.png') }}" alt="Success" class="confirmation-icon">
        <p>Thank you for your purchase! Your order reference is: {{ order.reference }}</p>
    </div>

    <div class="order-details">
        <h2>Order Summary</h2>
        <table class="table-minecraft">
            <thead>
                <tr>
                    <th>Item</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                {% for item in order.orderItems %}
                    <tr>
                        <td>
                            <img src="{{ asset('images/minecraft/' ~ item.product.minecraftImage) }}" 
                                 alt="{{ item.product.name }}"
                                 class="product-thumbnail">
                            {{ item.product.name }}
                        </td>
                        <td>{{ item.quantity }}</td>
                        <td>{{ item.productPrice }} diamonds</td>
                        <td>{{ item.productPrice * item.quantity }} diamonds</td>
                    </tr>
                {% endfor %}
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="3"><strong>Total</strong></td>
                    <td><strong>{{ order.total }} diamonds</strong></td>
                </tr>
            </tfoot>
        </table>
    </div>

    <div class="confirmation-actions">
        <a href="{{ path('app_product_index') }}" class="btn-minecraft">Continue Shopping</a>
    </div>
</div>
{% endblock %}