{% extends 'base.html.twig' %}

{% block title %}{{ 'welcome'|trans }}{% endblock %}

{% block body %}
    <h1>{{ 'welcome'|trans }}</h1>

    <div class="product-grid">
        {% for product in products %}
            <div class="product-card">
                <img src="{{ asset('images/minecraft/' ~ product.minecraftImage) }}" alt="{{ product.name }}">
                <h2>{{ product.name }}</h2>
                <p class="minecraft-tooltip">
                    {{ product.price }} diamonds
                    <span class="tooltiptext">{{ 'in_game_currency'|trans }}</span>
                </p>
                <p>{{ 'stock'|trans }}: {{ product.stock }}</p>

                {% if product.status == 'unavailable' %}
                    <p class="text-danger">{{ 'unavailable'|trans }}</p>
                {% else %}
                    <form action="{{ path('app_cart_add', {'id': product.id}) }}" method="post">
                        <button type="submit" class="btn-minecraft">{{ 'add_to_cart'|trans }}</button>
                    </form>
                {% endif %}
                
                <a href="{{ path('app_product_show', {'id': product.id}) }}" class="btn-minecraft">{{ 'view'|trans }}</a>
            </div>
        {% endfor %}
    </div>
{% endblock %}